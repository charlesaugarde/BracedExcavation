<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Full 3D Excavation · Braced Excavation</title><meta name="title" content="Full 3D Excavation · Braced Excavation"/><meta property="og:title" content="Full 3D Excavation · Braced Excavation"/><meta property="twitter:title" content="Full 3D Excavation · Braced Excavation"/><meta name="description" content="Documentation for Braced Excavation."/><meta property="og:description" content="Documentation for Braced Excavation."/><meta property="twitter:description" content="Documentation for Braced Excavation."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Braced Excavation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../01_triaxial/">Triaxial Tests</a></li><li><a class="tocitem" href="../02_constitutive/">Constitutive models</a></li><li class="is-active"><a class="tocitem" href>Full 3D Excavation</a><ul class="internal"><li><a class="tocitem" href="#Generate-mesh-for-braced-excavation"><span>Generate mesh for braced excavation</span></a></li><li><a class="tocitem" href="#Input-parameters"><span>Input parameters</span></a></li><li><a class="tocitem" href="#Read-the-mesh-data"><span>Read the mesh data</span></a></li><li><a class="tocitem" href="#Initialise-the-materials"><span>Initialise the materials</span></a></li><li><a class="tocitem" href="#Geostatic-state"><span>Geostatic state</span></a></li><li><a class="tocitem" href="#Conduct-the-first-excavation"><span>Conduct the first excavation</span></a></li></ul></li></ul></li><li><span class="tocitem">Developer Notes</span><ul><li><a class="tocitem" href="../../notes/01_elemgeo/">Mesh geometry</a></li><li><a class="tocitem" href="../../notes/02_equivforce/">Equivalent nodal force</a></li><li><a class="tocitem" href="../../notes/03_excav_nointer/">Excavation without interface (robust results)</a></li><li><a class="tocitem" href="../../notes/04_interface/">Interface elements</a></li></ul></li><li><a class="tocitem" href="../../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Full 3D Excavation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Full 3D Excavation</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Full-3D-Excavation"><a class="docs-heading-anchor" href="#Full-3D-Excavation">Full 3D Excavation</a><a id="Full-3D-Excavation-1"></a><a class="docs-heading-anchor-permalink" href="#Full-3D-Excavation" title="Permalink"></a></h1><p>In this tutorial, we will show an example of braced excavation with DPSSO constitutive model.  The braced excavation model contains the soils, retaining walls, interaction between the soils and structures, and props. </p><h2 id="Generate-mesh-for-braced-excavation"><a class="docs-heading-anchor" href="#Generate-mesh-for-braced-excavation">Generate mesh for braced excavation</a><a id="Generate-mesh-for-braced-excavation-1"></a><a class="docs-heading-anchor-permalink" href="#Generate-mesh-for-braced-excavation" title="Permalink"></a></h2><p>A unit element mesh is generated by Gmsh with size of 1 x 1 x 1 m.  Two stage excavations will be calculated with the excavation size to be 0.48 x 0.48 x 0.20 m.  The thickness of the retaining wall is 0.02 m.  A prop is installed after the first stage of excavation at the locations of (0.24, 0.48, 0.90) and (0.48, 0.24, 0.90).  Figure 1 shows the geometry of the model, the mesh is hidden for the visualisation. </p><pre><code class="language- hljs">julia&gt; project_name = &quot;BracedExcavation&quot;
julia&gt; excavation(project_name, false) </code></pre><pre><code class="nohighlight hljs">Info    : 303 nodes 443 elements
Info    : Writing &#39;BracedExcavation.msh&#39;...
Info    : Done writing &#39;BracedExcavation.msh&#39;</code></pre><p style="text-align: center"><img src="../figures/ExcavMesh.png" width="400"/></p>
<p style="text-align: center">Figure 1. The excavation mesh generated by Gmsh.</p><h2 id="Input-parameters"><a class="docs-heading-anchor" href="#Input-parameters">Input parameters</a><a id="Input-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Input-parameters" title="Permalink"></a></h2><p>For the braced excavation, we need at least three materials: soil, wall, and prop, which are all specified in <a href="../../api/#BracedExcavation.PARAMSDT"><code>BracedExcavation.PARAMSDT</code></a>. For the interface elements, we need to input the <span>$K_s$</span> and <span>$K_n$</span> as the normal and tangential stiffness for the interaction between soils and structures.  The friction angle and cohesion are also necessary for the frictional interface elements to incorporate the Coulomb&#39;s law. </p><pre><code class="language- hljs">julia&gt; PARAMS = PARAMSDT(CONSTM=&quot;DPSSO&quot;)</code></pre><pre><code class="nohighlight hljs">PARAMSDT(1.0e6, 0.2, 1.0e9, 0.3, 2.0e9, 0.3, 2000.0, -9.81, 1.0, 1.0, 1.0, 1.0, -200000.0, -0.4, 20, 20, &quot;DPSSO&quot;, 0.385, 0.1, 0.3490658503988659, 0.0, 1.0e8, 1.0e6, 0.3490658503988659, 0.0)</code></pre><h2 id="Read-the-mesh-data"><a class="docs-heading-anchor" href="#Read-the-mesh-data">Read the mesh data</a><a id="Read-the-mesh-data-1"></a><a class="docs-heading-anchor-permalink" href="#Read-the-mesh-data" title="Permalink"></a></h2><p>Read the mesh data generated by Gmsh through <a href="../../api/#BracedExcavation.readgmsh_excavation-Tuple{Any}"><code>BracedExcavation.readgmsh_excavation</code></a>, and save them to the <a href="../../api/#BracedExcavation.MESH"><code>BracedExcavation.MESH</code></a> structure.</p><pre><code class="language- hljs">julia&gt; mesh = MESH()</code></pre><pre><code class="nohighlight hljs">BracedExcavation.MESH(0, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef)</code></pre><pre><code class="language- hljs">mesh0, mesh1, mesh2, Snnodes = readgmsh_excavation(project_name * &quot;.msh&quot;)
</code></pre><pre><code class="nohighlight hljs">Info    : Reading &#39;BracedExcavation.msh&#39;...
Info    : 246 entities
Info    : 303 nodes
Info    : 172 elements
Info    : Done reading &#39;BracedExcavation.msh&#39;
(Snnodes, numISelem, maxNodeTag, maxElemTag) = (90, 32, 303, 172)</code></pre><p>Save the mesh data to the MESH struct defined by <a href="../../api/#BracedExcavation.MESH"><code>BracedExcavation.MESH</code></a>, for the global calculation.</p><pre><code class="nohighlight hljs">mesh.coord = mesh0[1]
mesh.mat = getindex.(mesh0[2], 1)
mesh.etpl = getindex.(mesh0[2], 2)
mesh.ngp = getindex.(mesh0[2], 3)</code></pre><h2 id="Initialise-the-materials"><a class="docs-heading-anchor" href="#Initialise-the-materials">Initialise the materials</a><a id="Initialise-the-materials-1"></a><a class="docs-heading-anchor-permalink" href="#Initialise-the-materials" title="Permalink"></a></h2><p>The excavation model contains multiple materials and components, the initialisation of the GP data struct <a href="../../api/#BracedExcavation.GP"><code>BracedExcavation.GP</code></a> is more complicated than the triaxial element tests. </p><pre><code class="language- hljs">julia&gt; gps = gpmaterial(mesh, PARAMS)</code></pre><pre><code class="nohighlight hljs"> Any[GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, true, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, true, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0])]
 ⋮
 Any[GP(0.0, 0.0, 0.0, 1.0e6, 1.0e8, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(0.0, 0.0, 0.0, 1.0e6, 1.0e8, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(0.0, 0.0, 0.0, 1.0e6, 1.0e8, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0])]</code></pre><h2 id="Geostatic-state"><a class="docs-heading-anchor" href="#Geostatic-state">Geostatic state</a><a id="Geostatic-state-1"></a><a class="docs-heading-anchor-permalink" href="#Geostatic-state" title="Permalink"></a></h2><p>The geostatic static is set by the simplified K0 approach.  The key output of the geostatic state for the braced excavation is the obtained the equivalent nodal forces due to the excavation at each stage by <a href="../../api/#BracedExcavation.geostatic_excavation-NTuple{8, Any}"><code>BracedExcavation.geostatic_excavation</code></a>.  The files can be visualised by <a href="https://www.paraview.org/">paraview</a> as shown in Fig. 2.  The wall deformation at the corner of the retaining wall is visulised throught <a href="../../api/#BracedExcavation.lineplot_excavation-Tuple{Any, Any, Any, Int64, Any}"><code>BracedExcavation.lineplot_excavation</code></a>, as shown in Fig. 3.  </p><pre><code class="language- hljs">julia&gt; fexc1, fexc2, kindex = geostatic_excavation(mesh, gps, mesh1, mesh2, PARAMS.DENS, PARAMS.GRAV, PARAMS.K0, PARAMS.H)
julia&gt; postpro(mesh.uvw, mesh.lstp, mesh.coord, mesh.etpl, gps, outdir)
julia&gt; lineplot_excavation(mesh.lstp, mesh.uvw, mesh.coord, Snnodes, outdir)</code></pre><img src="../figures/EGeoMesh.png" width="48%" style="display:inline-block;">
<img src="../figures/EGeoGp.png" width="48%" style="display:inline-block;">
<p style="text-align: center">Figure 2. Left: Model mesh of geostatic state; Right: Vertical stress of geostatic state.</p><p style="text-align: center"><img src="../figures/walldefelction_0.png" width="400"/></p>
<p style="text-align: center">Figure 3. The wall deflection of braced excavation at the geostatic state.</p><h2 id="Conduct-the-first-excavation"><a class="docs-heading-anchor" href="#Conduct-the-first-excavation">Conduct the first excavation</a><a id="Conduct-the-first-excavation-1"></a><a class="docs-heading-anchor-permalink" href="#Conduct-the-first-excavation" title="Permalink"></a></h2></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../02_constitutive/">« Constitutive models</a><a class="docs-footer-nextpage" href="../../notes/01_elemgeo/">Mesh geometry »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Wednesday 18 September 2024 14:00">Wednesday 18 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>

var documenterSearchIndex = {"docs":
[{"location":"tutorials/03_excavation/#Full-3D-Excavation","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"","category":"section"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"In this tutorial, we will show an example of braced excavation with DPSSO constitutive model.  The braced excavation model contains the soils, retaining walls, interaction between the soils and structures, and props. ","category":"page"},{"location":"tutorials/03_excavation/#Generate-mesh-for-braced-excavation","page":"Full 3D Excavation","title":"Generate mesh for braced excavation","text":"","category":"section"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"A unit element mesh is generated by Gmsh with size of 1 x 1 x 1 m.  Two stage excavations will be calculated with the excavation size to be 0.48 x 0.48 x 0.20 m.  The thickness of the retaining wall is 0.02 m.  A prop is installed after the first stage of excavation at the locations of (0.24, 0.48, 0.90) and (0.48, 0.24, 0.90).  Figure 1 shows the geometry of the model, the mesh is hidden for the visualisation. ","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"julia> project_name = \"BracedExcavation\"\njulia> excavation(project_name, false) ","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"Info    : 303 nodes 443 elements\nInfo    : Writing 'BracedExcavation.msh'...\nInfo    : Done writing 'BracedExcavation.msh'","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"<p style=\"text-align: center\"><img src=\"../figures/ExcavMesh.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 1. The excavation mesh generated by Gmsh.</p>","category":"page"},{"location":"tutorials/03_excavation/#Input-parameters","page":"Full 3D Excavation","title":"Input parameters","text":"","category":"section"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"For the braced excavation, we need at least three materials: soil, wall, and prop, which are all specified in BracedExcavation.PARAMSDT. For the interface elements, we need to input the K_s and K_n as the normal and tangential stiffness for the interaction between soils and structures.  The friction angle and cohesion are also necessary for the frictional interface elements to incorporate the Coulomb's law. ","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"julia> PARAMS = PARAMSDT(CONSTM=\"DPSSO\")","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"PARAMSDT(1.0e6, 0.2, 1.0e9, 0.3, 2.0e9, 0.3, 2000.0, -9.81, 1.0, 1.0, 1.0, 1.0, -200000.0, -0.4, 20, 20, \"DPSSO\", 0.385, 0.1, 0.3490658503988659, 0.0, 1.0e8, 1.0e6, 0.3490658503988659, 0.0)","category":"page"},{"location":"tutorials/03_excavation/#Read-the-mesh-data","page":"Full 3D Excavation","title":"Read the mesh data","text":"","category":"section"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"Read the mesh data generated by Gmsh through BracedExcavation.readgmsh_excavation, and save them to the BracedExcavation.MESH structure.","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"julia> mesh = MESH()","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"BracedExcavation.MESH(0, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef)","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"mesh0, mesh1, mesh2, Snnodes = readgmsh_excavation(project_name * \".msh\")\n","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"Info    : Reading 'BracedExcavation.msh'...\nInfo    : 246 entities\nInfo    : 303 nodes\nInfo    : 172 elements\nInfo    : Done reading 'BracedExcavation.msh'\n(Snnodes, numISelem, maxNodeTag, maxElemTag) = (90, 32, 303, 172)","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"Save the mesh data to the MESH struct defined by BracedExcavation.MESH, for the global calculation.","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"mesh.coord = mesh0[1]\nmesh.mat = getindex.(mesh0[2], 1)\nmesh.etpl = getindex.(mesh0[2], 2)\nmesh.ngp = getindex.(mesh0[2], 3)","category":"page"},{"location":"tutorials/03_excavation/#Initialise-the-materials","page":"Full 3D Excavation","title":"Initialise the materials","text":"","category":"section"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"The excavation model contains multiple materials and components, the initialisation of the GP data struct BracedExcavation.GP is more complicated than the triaxial element tests. ","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"julia> gps = gpmaterial(mesh, PARAMS)","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":" Any[GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, true, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, true, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(1.0e9, 0.0, 0.3, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0])]\n ⋮\n Any[GP(0.0, 0.0, 0.0, 1.0e6, 1.0e8, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(0.0, 0.0, 0.0, 1.0e6, 1.0e8, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), GP(0.0, 0.0, 0.0, 1.0e6, 1.0e8, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0])]","category":"page"},{"location":"tutorials/03_excavation/#Geostatic-state","page":"Full 3D Excavation","title":"Geostatic state","text":"","category":"section"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"The geostatic static is set by the simplified K0 approach.  The key output of the geostatic state for the braced excavation is the obtained the equivalent nodal forces due to the excavation at each stage by BracedExcavation.geostatic_excavation.  The files can be visualised by paraview as shown in Fig. 2.  The wall deformation at the corner of the retaining wall is visulised throught BracedExcavation.lineplot_excavation, as shown in Fig. 3.  ","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"julia> fexc1, fexc2, kindex = geostatic_excavation(mesh, gps, mesh1, mesh2, PARAMS.DENS, PARAMS.GRAV, PARAMS.K0, PARAMS.H)\njulia> postpro(mesh.uvw, mesh.lstp, mesh.coord, mesh.etpl, gps, outdir)\njulia> lineplot_excavation(mesh.lstp, mesh.uvw, mesh.coord, Snnodes, outdir)","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"<img src=\"../figures/EGeoMesh.png\" width=\"48%\" style=\"display:inline-block;\">\n<img src=\"../figures/EGeoGP.png\" width=\"48%\" style=\"display:inline-block;\">\n<p style=\"text-align: center\">Figure 2. Left: Model mesh of geostatic state; Right: Vertical stress of geostatic state.</p>","category":"page"},{"location":"tutorials/03_excavation/","page":"Full 3D Excavation","title":"Full 3D Excavation","text":"<p style=\"text-align: center\"><img src=\"../figures/walldefelction_0.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 3. The wall deflection of braced excavation at the geostatic state.</p>","category":"page"},{"location":"tutorials/03_excavation/#Conduct-the-first-excavation","page":"Full 3D Excavation","title":"Conduct the first excavation","text":"","category":"section"},{"location":"api/#API-Reference","page":"API Reference","title":"API Reference","text":"","category":"section"},{"location":"api/#Common-Tools","page":"API Reference","title":"Common Tools","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Modules=[BracedExcavation]\nOrder=[:function, :type]\nPages=[\"common.jl\", \"shapefunc.jl\"]","category":"page"},{"location":"api/#BracedExcavation.cauchytoeng-Tuple{Any}","page":"API Reference","title":"BracedExcavation.cauchytoeng","text":"cauchytoeng(strain::Array)\n\nTransform the Cauchy strain tensor to the engineering strain tensor.\n\nArguments\n\nstrain: input strian in the tensor form (3 x 3).\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.engtocauchy-Tuple{Any}","page":"API Reference","title":"BracedExcavation.engtocauchy","text":"engtocauchy(strain::Array)\n\nTransform the engineering strain tensor to Cauchy strain tensor.\n\nArguments\n\nstrain: input strain in 1D array (1 x 6).\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.interpretElement-Tuple{Any, Any}","page":"API Reference","title":"BracedExcavation.interpretElement","text":"interpretElement(elemTags, elemNodeTags)\n\nReinterpret the Gmsh element data to the Int64 type.  Return (a) the total number of elements in one physical group and (b) the nodes array of each element. \n\nArguments\n\nelemTags: Tags of element in the Gmsh format.\nelemNodeTags: Tags of node in the element in the Gmsh format.\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.GP","page":"API Reference","title":"BracedExcavation.GP","text":"GP()\n\nMechanical behaviours at each Gauss point in an element (Global Properties).\n\nArguments:\n\nE: Young's modulus.\nG: Initial shear modulus.\nv: Poisson's ratio.\nKs: shear stiffness of interface element.\nKn: normal stiffness of interface element.\nH0: deviatoric strain history of previous load step.\nH: deviatoric strian history of current load step.\nY: yield flag.\nsig: stress of current load step.\nsigP: stress of previous load step.\nsigG: stress of geostatic state.\neps: elastic strain of current load step.\nepsP: elastic strain of previous load step.\n\n\n\n\n\n","category":"type"},{"location":"api/#BracedExcavation.MESH","page":"API Reference","title":"BracedExcavation.MESH","text":"MESH()\n\nGeometry properties of the mesh (Global Properties).\n\nArguments:\n\nlstp: load step.\ncoord: nodal coordinates.\netpl: element topography.\nmat: material names.\nngp: number of Gauss points.\nbc: boundary conditions.\nkrow: global stiffness row indices.\nkcol: global stiffness column indices.\nkval: global stiffness values.\nfint: internal forces.\nfb: body forces.\nfext: external forces.\nreact: reaction forces.\nuvw: mesh deformation.\n\n\n\n\n\n","category":"type"},{"location":"api/#BracedExcavation.shapefunc-Tuple{Any, Any}","page":"API Reference","title":"BracedExcavation.shapefunc","text":"shapefunc(nD, nen)\n\nReturn (a) the total number of Guass points in the elements; (b) the shape function at each Gauss point; (c) the derivation of shape function at each Gauss point; and (d) the weights of Gauss points. \n\nThe shape functions of current code contain: \n\n1D element\n\n2-node line element with 1 Gauss point\n\n2D element\n\n4-node rectangle element with 1 Gauss point\n6-node triangle element with 3 Gauss points\n8-node rectangle element with 4 Gauss points\n12-node interface element with 6 Gauss points\n\n3D element\n\n8-node hexahedron element with 8 Gauss points\n10-node tetrahedron element with 4 Gauss points\n15-node wedge element with 6 Gauss points\n\nArguments:\n\nnD: dimension of the element\nnen: number of nodes in each element\n\n\n\n\n\n","category":"method"},{"location":"api/#Constitutive-models","page":"API Reference","title":"Constitutive models","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Modules=[BracedExcavation]\nOrder=[:function]\nPages=[\"constitutive.jl\"]","category":"page"},{"location":"api/#BracedExcavation.DPconst-NTuple{7, Any}","page":"API Reference","title":"BracedExcavation.DPconst","text":"DPconst(deps, E, v, frictionangle, cohesion, sigma, strain)\n\nElasto-perfect plastic Drucker-Prager model. \n\nArguments:\n\ndeps: elastic strain rate, or trial elastic strain rate for the return method.\nE: Young's modulus.\nv: Poisson's ratio.\nfrictionangle: friction angle controlling the yield surface.\ncohesion: cohession controlling the yield surface.\nsigma: stress of previous load step. \nstrain: strain of previous load step.\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.Hooke3d-Tuple{Any, Any, Any}","page":"API Reference","title":"BracedExcavation.Hooke3d","text":"Hooke3d(deps, E, v)\n\nCalculate the stress induced by the elastic strain. \n\nArguments:\n\ndeps: elastic strain rate, or trial elastic strain rate for the return method.\nE: Young's modulus.\nv: Poisson's ratio.\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.elasticD-Tuple{Any, Any}","page":"API Reference","title":"BracedExcavation.elasticD","text":"elasticD(E, v)\n\nReturn the elastic stiffness matrix mathbfD:\n\nmathbfD = fracE(1+nu)(1-2nu) left  beginarraycccccc 1-nu  nu  nu  0  0  0  nu  1-nu  nu  0  0  0  nu  nu  1-nu   0  0  0   0  0  0   frac1-2nu2  0  0  0  0  0   0  frac1-2nu2   0  0  0  0   0  0  frac1-2nu2   endarray right\n\nArguments:\n\nE: Young's modulus.\nv: Poisson's ratio.\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.smallstrain-NTuple{7, Any}","page":"API Reference","title":"BracedExcavation.smallstrain","text":"smallstrain(deps, H0, G0, v, a, Gam07, direct)\n\nSmall strain overlay model (Benz et al. 2009).  The shear modulus will be affected by the deviatoric strain history through the Hardin-Drnevich relationships. \n\nArguments:\n\ndeps: elastic strain rate, or trial elastic strain rate for the return method.\nH0: deviatoric strain history.\nG0: initial shear modulus.\nv: Poisson's ratio.\na: parameters for the small-strain overlay model.\nGam07: strain at 70% initial shear stiffness.\ndirect: direction of the loading: 1 for the monotonic loading, -1 for the unloading/reloading. \n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.yieldfunction-Tuple{Any, Any, Any}","page":"API Reference","title":"BracedExcavation.yieldfunction","text":"yieldfunction(stress, frictionangle, cohesion)\n\nYield surface for the Drucker-Prage model. \n\nArguments:\n\nstress: stress at current load step.\nfrictionangle: friction angle. \ncohesion: cohesion.\n\n\n\n\n\n","category":"method"},{"location":"api/#Mesh-generation","page":"API Reference","title":"Mesh generation","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Modules=[BracedExcavation]\nOrder=[:function]\nPages=[\"geomaker.jl\"]","category":"page"},{"location":"api/#BracedExcavation.excavation","page":"API Reference","title":"BracedExcavation.excavation","text":"excavation(project_name::String, nopopup::Bool)\n\nGenerate the unit element mesh by Gmsh with the output: project_name.msh.  The size of element is 1 x 1 x 1.  The name of the soils is tet_LondonClay, the former means the shape of the element, while the latter means the material property.  The name of the diaphragm wall is wed_DiaphragmWall.  The props are added during the process of excavation. \n\nArguments:\n\nproject_name: name of the project, corresponding to the name of the mesh.\nnopopup: not show the gmsh window to visualise the mesh (default is true).\n\n\n\n\n\n","category":"function"},{"location":"api/#BracedExcavation.unithex","page":"API Reference","title":"BracedExcavation.unithex","text":"unithex(project_name::String, nopopup::Bool)\n\nGenerate the unit hexahedron element mesh by Gmsh with the output: project_name.msh.  The size of element is 1 x 1 x 1.  The name of the materials is hex_LondonClay, the former means the shape of the element, while the latter means the material property.  Three boundaries are defined as the names of top, sidex, and sidey. \n\nArguments:\n\nproject_name: name of the project, corresponding to the name of the mesh.\nnopopup: not show the gmsh window to visualise the mesh (default is true).\n\n\n\n\n\n","category":"function"},{"location":"api/#BracedExcavation.unittet","page":"API Reference","title":"BracedExcavation.unittet","text":"unittet(project_name::String, nopopup::Bool)\n\nGenerate the unit tetrahedron element mesh by Gmsh with the output: project_name.msh.  The size of element is 1 x 1 x 1.  The name of the materials is tet_LondonClay, the former means the shape of the element, while the latter means the material property.  Three boundaries are defined as the names of top, sidex, and sidey. \n\nArguments:\n\nproject_name: name of the project, corresponding to the name of the mesh.\nnopopup: not show the gmsh window to visualise the mesh (default is true).\n\n\n\n\n\n","category":"function"},{"location":"api/#BracedExcavation.unittetwed","page":"API Reference","title":"BracedExcavation.unittetwed","text":"unittetwed(project_name::String, nopopup::Bool)\n\nGenerate the unit tetrahedron and wedge element mesh by Gmsh with the output: project_name.msh.  The size of element is 1 x 1 x 1.  The name of the materials is tet_LondonClay and wed_LondonClay, the former means the shape of the element, while the latter means the material property.  Three boundaries are defined as the names of top, sidex, and sidey. \n\nArguments:\n\nproject_name: name of the project, corresponding to the name of the mesh.\nnopopup: not show the gmsh window to visualise the mesh (default is true).\n\n\n\n\n\n","category":"function"},{"location":"api/#BracedExcavation.unitwed","page":"API Reference","title":"BracedExcavation.unitwed","text":"unitwed(project_name::String, nopopup::Bool)\n\nGenerate the unit wedge element mesh by Gmsh with the output: project_name.msh.  The size of element is 1 x 1 x 1.  The name of the materials is wed_LondonClay, the former means the shape of the element, while the latter means the material property.  Three boundaries are defined as the names of top, sidex, and sidey. \n\nArguments:\n\nproject_name: name of the project, corresponding to the name of the mesh.\nnopopup: not show the gmsh window to visualise the mesh (default is true).\n\n\n\n\n\n","category":"function"},{"location":"api/#Parameters","page":"API Reference","title":"Parameters","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Modules=[BracedExcavation]\nOrder=[:type]\nPages=[\"parameter.jl\"]","category":"page"},{"location":"api/#BracedExcavation.PARAMSDT","page":"API Reference","title":"BracedExcavation.PARAMSDT","text":"PARAMSDT()\n\nDeclare the type of input parameters, and the default values.\n\nArguments\n\nE0: Young's modulus for the London clay (default: 1.0e6 N/m2).\nv0: Poisson's ratio for the London clay (default: 0.2).\nE1: Young's modulus for the retaining wall (default: 1.0e9 N/m2).\nv1: Poisson's ratio for the retaining wall (default: 0.3).\nE2: Young's modulus for the prop (default: 2.0e9 N/m2).\nv2: Poisson's ratio for the prop (default: 0.3).\nDENS: density (default: 2000.0 kg/m2).\nGRAV: gravitational froce (default: -9.81 N/kg).\nK0: K0 value (default: 1.0).\nW: width of the model (default: 1.0 m).\nL: length of the model (default: 1.0 m).\nH: height of the model (default: 1.0 m).\nP: isotropic consolidation pressure (default: -200e3 N/m2).\nU: axial compressure displacement (default: -0.4 m).\nLSPTC: load steps for the consolidation (default: 20).\nLSTPX: load steps for the compression (default: 20).\nCONSTM: constitutive model (default: \"Hooked3d\").\nA: parameters for the small-strain overlay model (default: 0.385).\nGAM07: strain at 70% initial shear stiffness (default: 1e-1).\nTHETA: friction angle for the Drucker-Prager yield surface (default:  pi9).\nC: cohesion for the Drucker-Prager yield surface (default: 0.0 N/m2).\nKN: normal stiffness for the interface element (default: 1.0e8 N/m2).\nKS: shear stiffness for the interface element (default: 1.0e6 N/m2).\nTHETAI: friction angle for the interface element (default:  pi9).\nCI: cohesion for the interface element (default: 0.0 N/m2).\nTOL: tolerance for the Newton-Ralphson iteration (default: 1e-9).\n\n\n\n\n\n","category":"type"},{"location":"api/#Read-the-gmsh","page":"API Reference","title":"Read the gmsh","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Modules=[BracedExcavation]\nOrder=[:function]\nPages=[\"readgmsh.jl\"]","category":"page"},{"location":"api/#BracedExcavation.readgmsh_excavation-Tuple{Any}","page":"API Reference","title":"BracedExcavation.readgmsh_excavation","text":"readgmsh_excavation(argv)\n\nRead the mesh data for the excavation test, need the material physical groups and interface elements.\n\nArguments:\n\nargv: the input mesh file with suffix, e.g., \"BracedExcavation.msh\"\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.readgmsh_excavnointer-Tuple{Any}","page":"API Reference","title":"BracedExcavation.readgmsh_excavnointer","text":"readgmsh_excavnointer(argv)\n\nRead the mesh data for the excavation test without interface to demonstrate the feasiblity of the code.\n\nArguments:\n\nargv: the input mesh file with suffix, e.g., \"BracedExcavation.msh\"\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.readgmsh_triaxial-Tuple{Any}","page":"API Reference","title":"BracedExcavation.readgmsh_triaxial","text":"readgmsh_triaxial(argv)\n\nRead the mesh data for the triaxial test, needs top, sidex, sidey boundaries. \n\nArguments:\n\nargv: the input mesh file with suffix, e.g., \"ElementCode.msh\"\n\n\n\n\n\n","category":"method"},{"location":"api/#Initialise-the-materials","page":"API Reference","title":"Initialise the materials","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Modules=[BracedExcavation]\nOrder=[:function]\nPages=[\"gpmaterial.jl\"]","category":"page"},{"location":"api/#BracedExcavation.gpmaterial-Tuple{Any, Any}","page":"API Reference","title":"BracedExcavation.gpmaterial","text":"gpmaterial(mesh, params)\n\nAssign the initial mechanical properties to the Gauss points of elements. \n\nArguments:\n\nmesh: MESH structure defined in the BracedExcavation.MESH.\nparams: Input parameters defined by the BracedExcavation.PARAMSDT. \n\n\n\n\n\n","category":"method"},{"location":"api/#Geostatic-state","page":"API Reference","title":"Geostatic state","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Modules=[BracedExcavation]\nOrder=[:function]\nPages=[\"geostatic.jl\"]","category":"page"},{"location":"api/#BracedExcavation.geostatic_excavation-NTuple{8, Any}","page":"API Reference","title":"BracedExcavation.geostatic_excavation","text":"geostatic_excavation(mesh, gps, mesh1, mesh2, dens, grav, K0, H)\n\nSet the geostatic conditions for the braced excavation using the simplified K0 approach.  Return the equivalent nodal forces for each stage of excavation. \n\nArguments:\n\nmesh: MESH structure defined by BracedExcavation.MESH.\ngps: GP structure defined by BracedExcavation.GP.\nmesh1: mesh information for the first excavation.\nmesh2: mesh information for the second excavation.\ndens: density of materials.\ngrav: gravitational forces.\nK0: K0 value.\nH: height of the model.\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.geostatic_triaxial-NTuple{6, Any}","page":"API Reference","title":"BracedExcavation.geostatic_triaxial","text":"geostatic_triaxial(mesh, gps, dens, grav, K0, H)\n\nSet the geostatic conditions for the triaxial tests using the simplified K0 approach. \n\nArguments:\n\nmesh: MESH structure defined by BracedExcavation.MESH.\ngps: GP structure defined by BracedExcavation.GP.\ndens: density of materials.\ngrav: gravitational forces.\nK0: K0 value.\nH: height of the model.\n\n\n\n\n\n","category":"method"},{"location":"api/#Boundary-conditions","page":"API Reference","title":"Boundary conditions","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Modules=[BracedExcavation]\nOrder=[:function]\nPages=[\"boundary.jl\"]","category":"page"},{"location":"api/#BracedExcavation.boundary_compression-NTuple{6, Any}","page":"API Reference","title":"BracedExcavation.boundary_compression","text":"boundary_compression(coord, be2, be3, p, u, lstpx)\n\nSet the boundary conditions for the triaxial tests: the bottom and two sides are roller conditions.  The boundaries with names sidex, and sidey are kept constnat with pressure p.  During the compression stage, the top boundary is compressed to u within lstpx steps. \n\nArguments:\n\ncoord: coordinates of model nodes.\nbe2: boundary nodes of sidex.\nbe3: boundary nodes of sidey.\np: confining pressure p. \nu: total displacement of top boundary. \nlstpx: load steps for the compression. \n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.boundary_consolidation-NTuple{5, Any}","page":"API Reference","title":"BracedExcavation.boundary_consolidation","text":"boundary_consolidation(coord, be1, be2, be3, p)\n\nSet the boundary conditions for the triaxial tests: the bottom and two sides are roller conditions.  The boundaries with names top, sidex, and sidey are consolidated to the prescribed pressure p. \n\nArguments:\n\ncoord: coordinates of model nodes.\nbe1: boundary nodes of top. \nbe2: boundary nodes of sidex.\nbe3: boundary nodes of sidey.\np: confining pressure p. \n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.boundary_excavation-Tuple{Any, Any, Any}","page":"API Reference","title":"BracedExcavation.boundary_excavation","text":"boundary_excavation(coordinate, W, L)\n\nSet the Dirichlet (displacement) boundary conditions for the excavation model.\n\nArguments:\n\ncoordinate: coordinates of model nodes.\nW: width of the model.\nL: length of the model. \n\n\n\n\n\n","category":"method"},{"location":"api/#Loading","page":"API Reference","title":"Loading","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Modules=[BracedExcavation]\nOrder=[:function]\nPages=[\"loading_triaxial.jl\", \"loading_excavinter.jl\", \"solve.jl\"]","category":"page"},{"location":"api/#BracedExcavation.loading_triaxial-Tuple{Any, Any, String, Vararg{Any, 6}}","page":"API Reference","title":"BracedExcavation.loading_triaxial","text":"loading_triaxial(mesh, gps, constm, G0, a, Gam07, direct)\n\nLoading step for the FE analysis.  All the MESH and GP variables are updated as the global properties. \n\nArguments:\n\nmesh: MESH struct datatype from BracedExcavation.MESH.\ngps: GP struct datatype from BracedExcavation.GP.\nconstm: constitutive model.\na: parameter for the small strain overlay model.\nGam07: strain at 70% initial shear stiffness.\ntheta: friction angle for the Drucker-Prager yield surface.\nc: cohesion for the Drucker-Prager yield surface.\ndirect: loading direction, affecting the order the eigen values. \nNRtol: tolerance for the Newton_Ralphson iteration. \n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.loading_excav-Tuple{Any, Any, String, Vararg{Any, 11}}","page":"API Reference","title":"BracedExcavation.loading_excav","text":"loading_excav(mesh, gps, constm::String, a, Gam07, theta, c, direct, phii, cohi, dens, grav, remesh, NRtol)\n\nLoading steps for the braced excavation.  The main difference with the BracedExcavation.loading_triaxial is that the fint, fb, and react induced by the further excavated soils need to be subtracted for the subsequent calculations. \n\nArguments:\n\nmesh: MESH struct datatype from BracedExcavation.MESH.\ngps: GP struct datatype from BracedExcavation.GP.\nconstm: constitutive model.\na: parameter for the small strain overlay model.\nGam07: strain at 70% initial shear stiffness.\ntheta: friction angle for the Drucker-Prager yield surface.\nc: cohesion for the Drucker-Prager yield surface.\ndirect: loading direction, affecting the order the eigen values. \nphii: friction angle for the interface element.\ncohi: cohesion for the interface element. \ndens: density of materials.\ngrav: gravitational forces.\nremesh: elements and boundary nodes to be excavated at the next stage. \nNRtol: tolerance for the Newton_Ralphson iteration. \n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.solve-Tuple{Any, Any, Any, Any, Any, Int64, Int64}","page":"API Reference","title":"BracedExcavation.solve","text":"solve(kval, krow, kcol, f, bc, nd::Int, NRit::Int)\n\nSolve the algebra equations for the global FE analysis. \n\nArguments:\n\nkval: global stiffness values.\nkrow: global stiffness row indices.\nkcol: global stiffness column indices.\nf: right-hand side for the equation Ku=f.\nbc: boundary conditions.\nnd: model dimensions.\nNRit: iteration number.\n\n\n\n\n\n","category":"method"},{"location":"api/#Postprocess","page":"API Reference","title":"Postprocess","text":"","category":"section"},{"location":"api/","page":"API Reference","title":"API Reference","text":"Modules=[BracedExcavation]\nOrder=[:function]\nPages=[\"plotting.jl\", \"lineplot.jl\"]","category":"page"},{"location":"api/#BracedExcavation.etpl_vtk-Tuple{Any, Any}","page":"API Reference","title":"BracedExcavation.etpl_vtk","text":"etpl_vtk(nD, nen)\n\nTransform the nodal numbering in the FE etpl to paraview vtk format. \n\nArguments:\n\nnD: dimension.\nnen: number of nodes in the element. \n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.makeVtk-NTuple{4, Any}","page":"API Reference","title":"BracedExcavation.makeVtk","text":"makeVtk(coord, etpl, uvw, meshName)\n\nGenerate the mesh data .vtk files.\n\nArguments:\n\ncoord: coordinates of nodes in MESH struct.\netpl: element topography in MESH struct.\nuvw: displacement field in the MESH struct.\nmeshName: output file name. \n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.makeVtkGP-NTuple{4, Any}","page":"API Reference","title":"BracedExcavation.makeVtkGP","text":"makeVtkGP(mpFileName, gpC, gpDat, datNames)\n\nGenerate the GP field data in each Gauss point.\n\nArguments:\n\nmpFileName: output filename.\ngpC: total number of Gauss points.\ngpDat: stress and strain properties in each Gauss point.\ndatNames: names of the GP properties.\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.postpro-NTuple{6, Any}","page":"API Reference","title":"BracedExcavation.postpro","text":"postpro(uvw, lstp, coord, etpl, gps, outdir)\n\nGenerate the mesh vtk files, deformed mesh vtk files, and the properties in each Gauss point.\n\nArguments:\n\nuvw: displacement field in the MESH struct.\nlstp: load step in the MESH struct.\ncoord: coordinates of nodes in the MESH struct.\netpl: element topography in the MESH struct.\ngps: GP properties of elements.\noutdir: output directory to save the .vtk files.\n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.lineplot_excavation-Tuple{Any, Any, Any, Int64, Any}","page":"API Reference","title":"BracedExcavation.lineplot_excavation","text":"lineplot_excavation(lstp, uvw, coord, maxnode, outdir)\n\nPlot the wall deflection due to excavation at different excavation stages.\n\nArguments:\n\nlstp: load step.\nuvw: displacement.\ncoord: coordinates of the model nodes. \nmaxnode: maximum tag of original nodes.\noutdir: directory for saving the figures. \n\n\n\n\n\n","category":"method"},{"location":"api/#BracedExcavation.lineplot_triaxial-NTuple{10, Any}","page":"API Reference","title":"BracedExcavation.lineplot_triaxial","text":"lineplot_triaxial(lstps, constm, results, bc1, lstpc, lstpx, outdir)\n\nPlot the results of triaxial tests: load step and displacement in x, y, z-directions, stress strain relationship, and effective stress paths.\n\nArguments:\n\nlstps: total load steps.\nconstm: constitutive models.\nresults: results data.\nbc1: boundary condition for the compression test.\nlstpc: load steps for the isotropic consolidation.\nlstpx: load steps for the drained compression.\ntheta: friction angle for the Drucker-Prager yield surface.\nc: cohesion for the Drucker-Prager yield surface.\ndirect: loading direction: 1 for monotonic loading; -1 for unloading/reloading.\noutdir: directory for saving the figures.\n\n\n\n\n\n","category":"method"},{"location":"notes/01_elemgeo/#Mesh-geometry","page":"Mesh geometry","title":"Mesh geometry","text":"","category":"section"},{"location":"notes/01_elemgeo/","page":"Mesh geometry","title":"Mesh geometry","text":"The section shows the mechanical behaviours of models with 10-node tetrahedron element and 15-node wedge elements under triaxial CD loading path. ","category":"page"},{"location":"notes/01_elemgeo/#10-node-tetrahedron-element","page":"Mesh geometry","title":"10-node tetrahedron element","text":"","category":"section"},{"location":"notes/01_elemgeo/","page":"Mesh geometry","title":"Mesh geometry","text":">julia unittet(project_name, true)","category":"page"},{"location":"notes/01_elemgeo/#15-node-wedge-element","page":"Mesh geometry","title":"15-node wedge element","text":"","category":"section"},{"location":"notes/01_elemgeo/","page":"Mesh geometry","title":"Mesh geometry","text":">julia unitwed(project_name, true)","category":"page"},{"location":"notes/01_elemgeo/#Mixed-10-node-tetrahedron-and-15-node-wedge-elements","page":"Mesh geometry","title":"Mixed 10-node tetrahedron and 15-node wedge elements","text":"","category":"section"},{"location":"notes/01_elemgeo/","page":"Mesh geometry","title":"Mesh geometry","text":">julia unittetwed(project_name, true)","category":"page"},{"location":"notes/04_interface/#Interface-elements","page":"Interface elements","title":"Interface elements","text":"","category":"section"},{"location":"notes/04_interface/#Test-on-the-interface-elements","page":"Interface elements","title":"Test on the interface elements","text":"","category":"section"},{"location":"tutorials/02_constitutive/#Constitutive-models","page":"Constitutive models","title":"Constitutive models","text":"","category":"section"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"This tutorial implements three constitutive models to the Triaxial Tests, namely the small strain overlay (SSO) model, the elasto-perfect plastic Drucker-Prager (DPconst) model, and the combination of SSO and DP model (DPSSO).  ","category":"page"},{"location":"tutorials/02_constitutive/#Small-strain-overlay-model-(LSSO)","page":"Constitutive models","title":"Small strain overlay model (LSSO)","text":"","category":"section"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"Based on the tutorial of Triaxial tests, just change the name of the constitutive models in the input parameters BracedExcavation.PARAMSDT could change the material behaviours.  The results are shown in Figs. 1 and 2. ","category":"page"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"julia> PARAMS = PARAMSDT(CONSTM=\"LSSO\")","category":"page"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"<p style=\"text-align: center\"><img src=\"../figures/LSSO_displacement.png\" width=\"60%\" style=\"display:inline-block;\"></p>\n<p style=\"text-align: center\">Figure 1. Displacements in x, y, and z directions for the SSO model.</p>\n<img src=\"../figures/LSSO_stress_strain.png\" width=\"48%\" style=\"display:inline-block;\">\n<img src=\"../figures/LSSO_effective_stress_path.png\" width=\"48%\" style=\"display:inline-block;\">\n<p style=\"text-align: center\">Figure 2. Left: Stress-strain relationships for SSO model; Right: Effetive stress paths for SSO model.</p>","category":"page"},{"location":"tutorials/02_constitutive/#Perfect-plastic-Drucker-Prager-model-(DPconst)","page":"Constitutive models","title":"Perfect plastic Drucker-Prager model (DPconst)","text":"","category":"section"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"This section shows the results with the elasto-perfect plastic Drucker-Prager model (DPconst).  The results are shown in Figs. 3 and 4. ","category":"page"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"julia> PARAMS = PARAMSDT(CONSTM=\"DPconst\")","category":"page"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"<p style=\"text-align: center\"><img src=\"../figures/DPconst_displacement.png\" width=\"60%\" style=\"display:inline-block;\"></p>\n<p style=\"text-align: center\">Figure 3. Displacements in x, y, and z directions for the DPconst model.</p>\n<img src=\"../figures/DPconst_stress_strain.png\" width=\"48%\" style=\"display:inline-block;\">\n<img src=\"../figures/DPconst_effective_stress_path.png\" width=\"48%\" style=\"display:inline-block;\">\n<p style=\"text-align: center\">Figure 4. Left: Stress-strain relationships for DPconst model; Right: Effetive stress paths for DPconst model.</p>","category":"page"},{"location":"tutorials/02_constitutive/#Combination-of-SSO-and-DP-model-(DPSSO)","page":"Constitutive models","title":"Combination of SSO and DP model (DPSSO)","text":"","category":"section"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"For the elastic region, the model behaviours are governed by the SSO model.  When the stress reaches the yield surface defined by Drucker-Prager, the model shows perfect plastic behaviours. ","category":"page"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"julia> PARAMS = PARAMSDT(CONSTM=\"DPSSO\", THETA=π / 14)  # combination of SSO and DP model (DPSSO)","category":"page"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"<p style=\"text-align: center\"><img src=\"../figures/DPSSO_displacement.png\" width=\"60%\" style=\"display:inline-block;\"></p>\n<p style=\"text-align: center\">Figure 3. Displacements in x, y, and z directions for the DPSSO model.</p>\n<img src=\"../figures/DPSSO_stress_strain.png\" width=\"48%\" style=\"display:inline-block;\">\n<img src=\"../figures/DPSSO_effective_stress_path.png\" width=\"48%\" style=\"display:inline-block;\">\n<p style=\"text-align: center\">Figure 4. Left: Stress-strain relationships for DPSSO model; Right: Effetive stress paths for DPSSO model.</p>","category":"page"},{"location":"tutorials/02_constitutive/#Extension","page":"Constitutive models","title":"Extension","text":"","category":"section"},{"location":"tutorials/02_constitutive/","page":"Constitutive models","title":"Constitutive models","text":"The braced excavation is a problems with unloading, which equals to the extension in the triaxial tests.  The unloading tests for the Hooke3d, LSSO, DPconst, and DPSSO are also tested, and the code works robust, results are not shown here. The following 3D full excavation tutorial will show the test with unloading external forces. ","category":"page"},{"location":"notes/02_equivforce/#Equivalent-nodal-force","page":"Equivalent nodal force","title":"Equivalent nodal force","text":"","category":"section"},{"location":"notes/02_equivforce/","page":"Equivalent nodal force","title":"Equivalent nodal force","text":"This section examines the equivalent nodal force due to excavation in 3D model. ","category":"page"},{"location":"notes/02_equivforce/#Equivalent-nodal-force-due-to-excavation-in-1D-(theory)","page":"Equivalent nodal force","title":"Equivalent nodal force due to excavation in 1D (theory)","text":"","category":"section"},{"location":"notes/02_equivforce/#Full-3D-nodal-force-due-to-excavation","page":"Equivalent nodal force","title":"Full 3D nodal force due to excavation","text":"","category":"section"},{"location":"notes/02_equivforce/","page":"Equivalent nodal force","title":"Equivalent nodal force","text":"Confirmed that for the excavation on the tetrahedron elements, the equivalent nodal force in the x- and y- directions are not the same. The figures are saved in the /docs/ directory (2024-09-14). ","category":"page"},{"location":"notes/02_equivforce/","page":"Equivalent nodal force","title":"Equivalent nodal force","text":"The test needs to add components to the mesh, and increase the task for reading the new components, thus not integrated into the code. ","category":"page"},{"location":"notes/02_equivforce/","page":"Equivalent nodal force","title":"Equivalent nodal force","text":"But the 1D theoretical example on how to obtain the equivalent nodal forces due to excavation worth to show in the Notes for me to remember it. ","category":"page"},{"location":"#Braced-Excavation","page":"Introduction","title":"Braced Excavation","text":"","category":"section"},{"location":"#Introduction","page":"Introduction","title":"Introduction","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"The repository is the output of Braced Excavations: what about the corners? (2023-2027) funded by EPSRC, with Charles Augarde, Will Coombs and Alexandros Petalas as Durham CoIs and Jonathan Knappett and Mike Brown at Dundee University. ","category":"page"},{"location":"#The-components-of-the-package","page":"Introduction","title":"The components of the package","text":"","category":"section"},{"location":"#Novelty-of-the-project","page":"Introduction","title":"Novelty of the project","text":"","category":"section"},{"location":"#Examples-in-this-repository","page":"Introduction","title":"Examples in this repository","text":"","category":"section"},{"location":"#Triaxial-tests-(Consolidation-Drained)","page":"Introduction","title":"Triaxial tests (Consolidation Drained)","text":"","category":"section"},{"location":"#Constitutive-models","page":"Introduction","title":"Constitutive models","text":"","category":"section"},{"location":"#3D-full-analysis-of-braced-excavation","page":"Introduction","title":"3D full analysis of braced excavation","text":"","category":"section"},{"location":"#Change-Logs","page":"Introduction","title":"Change Logs","text":"","category":"section"},{"location":"notes/03_excav_nointer/#Excavation-without-interface-(robust-results)","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"","category":"section"},{"location":"notes/03_excav_nointer/#Excavation-stage-1","page":"Excavation without interface (robust results)","title":"Excavation stage 1","text":"","category":"section"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"To exmaine the influence of constitutive models on the model behaviours, the Hooke3d, LSSO, DPconst, and DPSSO models are examined for the first stage of excavation","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"julia> PARAMS = PARAMSDT(CONSTM=\"Hooke3d\")  ","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"<p style=\"text-align: center\"><img src=\"../figures/nointer_excav1_hooke3d.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 1. The wall deflections due to the first excavation with Hooke3d model.</p>","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"julia> PARAMS = PARAMSDT(CONSTM=\"LSSO\")  ","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"<p style=\"text-align: center\"><img src=\"../figures/nointer_excav1_LSSO.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 2. The wall deflections due to the first excavation with LSSO model.</p>","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"julia> PARAMS = PARAMSDT(CONSTM=\"DPconst\", TOL=1e-4, THETA=π/6)  ","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"<p style=\"text-align: center\"><img src=\"../figures/nointer_excav1_DPconst_plastic.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 3. The wall deflections due to the first excavation with DPconst model.</p>","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"julia> PARAMS = PARAMSDT(CONSTM=\"DPSSO\", TOL=1e-4, THETA=π/6)  ","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"<p style=\"text-align: center\"><img src=\"../figures/nointer_excav1_DPSSO_plastic.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 4. The wall deflections due to the first excavation with DPSSO model.</p>","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"Notes: if the yield function of Drucker-Prager is changed, then the behaviour will change dramatically. ","category":"page"},{"location":"notes/03_excav_nointer/#Excavation-stage-2","page":"Excavation without interface (robust results)","title":"Excavation stage 2","text":"","category":"section"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"julia> PARAMS = PARAMSDT(CONSTM=\"Hooke3d\")  ","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"<p style=\"text-align: center\"><img src=\"../figures/nointer_excav2_hooke3d.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 5. The wall deflections due to the second excavation with Hooke3d model.</p>","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"julia> PARAMS = PARAMSDT(CONSTM=\"LSSO\")  ","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"<p style=\"text-align: center\"><img src=\"../figures/nointer_excav2_LSSO.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 6. The wall deflections due to the second excavation with LSSO model.</p>","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"julia> PARAMS = PARAMSDT(CONSTM=\"DPconst\", TOL=1e-4, THETA=π/6)  ","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"<p style=\"text-align: center\"><img src=\"../figures/nointer_excav2_DPconst_plastic.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 7. The wall deflections due to the second excavation with DPconst model.</p>","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"julia> PARAMS = PARAMSDT(CONSTM=\"DPSSO\", TOL=1e-4, THETA=π/6)  ","category":"page"},{"location":"notes/03_excav_nointer/","page":"Excavation without interface (robust results)","title":"Excavation without interface (robust results)","text":"<p style=\"text-align: center\"><img src=\"../figures/nointer_excav2_DPSSO_plastic.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 8. The wall deflections due to the second excavation with DPSSO model.</p>","category":"page"},{"location":"tutorials/01_triaxial/#Triaxial-Tests","page":"Triaxial Tests","title":"Triaxial Tests","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"This example shows how to use the code to conduct the element tests under triaxial loading conditions and how the material parameters affect the behaviours.  Here the triaxial loading paths are defined as isotropic consolidation (C) and drained (D) compression stages, namely triaxial CD test.  The consitutive model is linear elastic Hooke's law. ","category":"page"},{"location":"tutorials/01_triaxial/#Package-and-environment-setup","page":"Triaxial Tests","title":"Package and environment setup","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"Add the package to the REPL, set the project name, and create the directory for saving the results. ","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> using BracedExcavation","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> project_name = \"ElementCode\";\njulia> outdir = project_name * \"_out\";\njulia> if isdir(outdir)\n         rm(outdir, recurseive=true)\n       end\njulia> mkpath(outdir);","category":"page"},{"location":"tutorials/01_triaxial/#Generate-mesh-for-element-test","page":"Triaxial Tests","title":"Generate mesh for element test","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"An 8-node hexahedron element with 8 Gauss points is created in this tutorial to test the elemental behaviours by BracedExcavation.unithex.   If the second option in the function is false, then the gmsh window will popup to show the mesh (Fig. 1); if true, no window will popup.","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> unithex(project_name, false)  # generate the 8-node unit hexahedron element","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"Info    : 8 nodes 27 elements\nInfo    : Writing 'ElementCode.msh'...\nInfo    : Done writing 'ElementCode.msh'","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"<p style=\"text-align: center\"><img src=\"../figures/ElementMesh.png\" width=\"400\"/></p>\n<p style=\"text-align: center\">Figure 1. The element mesh generated by Gmsh.</p>","category":"page"},{"location":"tutorials/01_triaxial/#Input-parameters","page":"Triaxial Tests","title":"Input parameters","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"To ensure the input parameters have the consistent type with the code, @kwdef is used to set the data structure of parameters.  The default parameters are used to run the tutorials with BracedExcavation.PARAMSDT, and the parameters can be changed for various studies, e.g., sensitivity analysis. ","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> PARAMS = PARAMSDT()","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"PARAMSDT(1.0e6, 0.2, 1.0e9, 0.3, 2.0e9, 0.3, 2000.0, -9.81, 1.0, 1.0, 1.0, 1.0, -200000.0, -0.4, 20, 20, \"Hooke3d\", 0.385, 0.1, 0.3490658503988659, 0.0, 1.0e8, 1.0e6, 0.3490658503988659, 0.0)","category":"page"},{"location":"tutorials/01_triaxial/#Read-the-mesh-data","page":"Triaxial Tests","title":"Read the mesh data","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"Read the mesh data generated by Gmsh through BracedExcavation.readgmsh_triaxial, and save them to the BracedExcavation.MESH structure.","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> mesh = MESH()","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"BracedExcavation.MESH(0, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef, #undef)","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> mesh.coord, etpl, benode = readgmsh_triaxial(project_name * \".msh\")","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"Info    : Reading 'ElementCode.msh'...\nInfo    : 27 entities\nInfo    : 8 nodes\nInfo    : 4 elements\nInfo    : Done reading 'ElementCode.msh'\n([0.0 0.0 0.0; 1.0 0.0 0.0; … ; 1.0 1.0 1.0; 0.0 1.0 1.0], Vector[Any[\"LondonClay\", [1, 2, 4, 3, 5, 6, 7, 8], 8]], [[[5, 6, 7, 8]], [[2, 4, 7, 6]], [[3, 8, 7, 4]]])","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> mesh.mat= getindex.(etp1, 1);\njulia> mesh.etpl = getindex.(etp1, 2);\njulia> mesh.ngp = getindex.(etp1, 3);","category":"page"},{"location":"tutorials/01_triaxial/#Initialise-the-materials","page":"Triaxial Tests","title":"Initialise the materials","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"Initialise the material properties at each Gauss point of the element through BracedExcavation.gpmaterial. ","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> gps = gpmaterial(mesh, PARAMS)","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"1-element Vector{Vector}:\n Any[BracedExcavation.GP(4.0e7, 0.2, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), BracedExcavation.GP(4.0e7, 0.2, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), BracedExcavation.GP(4.0e7, 0.2, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), BracedExcavation.GP(4.0e7, 0.2, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), BracedExcavation.GP(4.0e7, 0.2, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), BracedExcavation.GP(4.0e7, 0.2, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), BracedExcavation.GP(4.0e7, 0.2, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0]), BracedExcavation.GP(4.0e7, 0.2, 0.0, 0.0, #undef, #undef, false, [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0])]","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"To show the simple results of triaxial tests, the displacements in x, y, and z directions, mean effective stress and deviatoric stress at the first Gauss point are saved in the results array. ","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> results = zeros(Float64, 5, PARAMS.LSTPC+PARAMS.LSTPX+1)  # dispx, dispy, dispz, p, q\njulia> apex = 7  # the apex of the element mesh","category":"page"},{"location":"tutorials/01_triaxial/#Geostatic-state","page":"Triaxial Tests","title":"Geostatic state","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"To consider the influence of the geostatic state, a simplified K0 approached is implemented in this code by BracedExcavation.geostatic_triaxial.  The detailed processes of K0 approach can be referred to Links to the equations/methods (to be done later). To confirm the geostatic state, the 3D data is saved as .vtk file in the output directory by BracedExcavation.postpro.  The files can be visualised by paraview as shown in Fig. 2. ","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> geostatic_triaxial(mesh, gps, PARAMS.DENS, PARAMS.GRAV, PARAMS.K0, PARAMS.H)\njulia> postpro(mesh.uvw, mesh.lstp, mesh.coord, mesh.etpl, gps, outdir)","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"<img src=\"../figures/GeoMesh.png\" width=\"48%\" style=\"display:inline-block;\">\n<img src=\"../figures/GeoGP.png\" width=\"48%\" style=\"display:inline-block;\">\n<p style=\"text-align: center\">Figure 2. Left: Model mesh of geostatic state; Right: Vertical stress of geostatic state.</p>","category":"page"},{"location":"tutorials/01_triaxial/#Boundary-conditions","page":"Triaxial Tests","title":"Boundary conditions","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"During the stage of isotropic consolidation, all the boundaries are consolidated to hydrostatic stress (PARAMS.P), -200 kPa in this case through BracedExcavation.boundary_consolidation. After the isotropic consolidation, the lateral stresses are kept constant (-200 kPa), while the top boundary is displacement controlled to prescribed value, here PARAMS.U=0.4 by BracedExcavation.boundary_compression. ","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> bc0, fext0 = boundary_consolidation(mesh.coord, benode[1], benode[2], benode[3], PARAMS.P)\njulia> bc1, fext1 = boundary_compression(mesh.coord, benode[2], benode[3], PARAMS.P, PARAMS.U, PARAMS.LSTPX)","category":"page"},{"location":"tutorials/01_triaxial/#Triaxial-loading:-isotropic-consolidation","page":"Triaxial Tests","title":"Triaxial loading: isotropic consolidation","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"After the geostatic state, the model is isotropically consolidated to PARAMS.P (-200 kPa) under the boundaries defined by BracedExcavation.boundary_consolidation. Figure 3 shows the deformation of element under the isotropic consolidation process. ","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> for lstp = 1:PARAMS.LSTPC\n         mesh.lstp = lstp\n         mesh.bc = bc0\n         mesh.fext = lstp / PARAMS.LSTPC * fext0\n         loading_triaxial(mesh, gps, PARAMS.CONSTM, G0, PARAMS.A, PARAMS.GAM07, PARAMS.THETA, PARAMS.C, 1)\n         postpro(mesh.uvw, mesh.lstp, mesh.coord, mesh.etpl, gps, outdir)\n         results[1:3, lstp+1] = mesh.uvw[apex*3-2:apex*3]\n         results[4, lstp+1] = -sum(gps[1][1].sigP[1:3]) / 3.0 / 1e3\n         results[5, lstp+1] = (gps[1][1].sigP[1] - gps[1][1].sigP[3]) / 1e3\n       end","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"<p style=\"text-align: center\"><img src=\"../figures/consolidation.gif\" width=\"60%\" style=\"display:inline-block;\"></p>\n<p style=\"text-align: center\">Figure 3. Isotropic consolidation in the unit element test.</p>","category":"page"},{"location":"tutorials/01_triaxial/#Triaxial-loading:-drained-compression","page":"Triaxial Tests","title":"Triaxial loading: drained compression","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"The drained compression test (BracedExcavation.boundary_compression) is conducted followed by the isotropic consolidation.  The full deformation of element is shown in Fig. 4. ","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> for lstp = PARAMS.LSTPC+1:PARAMS.LSTPX+PARAMS.LSTPC\n         mesh.lstp = lstp\n         mesh.bc = bc1\n         mesh.fext = fext1\n         loading_triaxial(mesh, gps, PARAMS.CONSTM, G0, PARAMS.A, PARAMS.GAM07, PARAMS.THETA, PARAMS.C, 1)\n         postpro(mesh.uvw, mesh.lstp, mesh.coord, mesh.etpl, gps, outdir)\n         results[1:3, lstp+1] = mesh.uvw[apex*3-2:apex*3]\n         results[4, lstp+1] = -sum(gps[1][1].sigP[1:3]) / 3.0 / 1e3\n         results[5, lstp+1] = (gps[1][1].sigP[1] - gps[1][1].sigP[3]) / 1e3\n       end","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"<p style=\"text-align: center\"><img src=\"../figures/triaxial.gif\" width=\"60%\" style=\"display:inline-block;\"></p>\n<p style=\"text-align: center\">Figure 4. Full deformation for the CD tests, including the consolidation and compression processes.</p>","category":"page"},{"location":"tutorials/01_triaxial/#Plot-the-figures","page":"Triaxial Tests","title":"Plot the figures","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"The line plots for the triaxial tests BracedExcavation.lineplot_triaxial includes the relationships between load steps and displacements (Fig. 5), the stress strain curves and the effective stress paths (Fig. 6). ","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"julia> lineplot_triaxial(PARAMS.LSTPC + PARAMS.LSTPX, PARAMS.CONSTM, results, bc1, PARAMS.LSTPC, PARAMS.LSTPX,  PARAMS.THETA, PARAMS.C, 1, outdir)","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"<p style=\"text-align: center\"><img src=\"../figures/Hooke3d_displacement.png\" width=\"60%\" style=\"display:inline-block;\"></p>\n<p style=\"text-align: center\">Figure 5. Displacements in x, y, and z directions.</p>\n<img src=\"../figures/Hooke3d_stress_strain.png\" width=\"48%\" style=\"display:inline-block;\">\n<img src=\"../figures/Hooke3d_effective_stress_path.png\" width=\"48%\" style=\"display:inline-block;\">\n<p style=\"text-align: center\">Figure 6. Left: Stress-strain relationships; Right: Effetive stress paths.</p>","category":"page"},{"location":"tutorials/01_triaxial/#Further-studies","page":"Triaxial Tests","title":"Further studies","text":"","category":"section"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"The further studies will implement the small strain overlay model introduced in Benz et al. (2009) to consider the small strain behaviors.  We refer Simpson (1992) for the intergranular model and Clayton (2011) for a review of the stiffness at small strain level.  For the behaviour after yielding, plastic deformation, we use the perfect Drucker-Prager model to simplify the soil behaviours. ","category":"page"},{"location":"tutorials/01_triaxial/","page":"Triaxial Tests","title":"Triaxial Tests","text":"In this study, the constitutive model is the combination of small strain overlay (SSO) model in the elastic region, and Drucker-Prager to govern the yield function, fixed yield surface (perfect plastic). ","category":"page"}]
}
